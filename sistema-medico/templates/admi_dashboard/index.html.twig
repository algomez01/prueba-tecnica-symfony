{% extends 'base.html.twig' %}

{% block title %}Administrador{% endblock %}

{% block body %}
<h1 >Facturas</h1>

    <form action="{{path('app_admi_dashboard')}}" method="GET">
        <label>Fecha Inicio</label>
        <input type="text" id="fecha_inicio" name="fecha_inicio">
        <label>Fecha Fin</label>
        <input type="text" id="fecha_fin" name="fecha_fin">
        <input type="submit" value="Filtrar">
    <form>

    <br>

    <!--No se puede actualizar las facturas cerradas por el cajero-->
    <table class="table">
        <thead class="thead-dark">
            <tr>
                <th>Id</th>
                <th>Fecha Factura</th>
                <th>Tipo de Cita</th>
                <th>Cajero</th>
                <th>Total Factura</th>
            </tr>
        </thead>
        <tbody> 
        {% for factura in facturas %}
            <tr>
                <td>{{ factura.id }}</td>
                <td>{{ factura.fecha_factura ? factura.fecha_factura|date('Y-m-d H:i:s') : '' }}</td>
                <td>{{ factura.descripcionTipoCita }}</td>
                <td>{{ factura.nombres_cajero }}</td>
                <td>$ {{ factura.total }}</td>
            </tr>
        {% else %}
            <tr>
                <td colspan="8">No se encontraron datos</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
{% endblock %}

